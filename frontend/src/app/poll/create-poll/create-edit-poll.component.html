<div class="d-flex justify-content-center">
  <div class="col-6 justify-content-center">
    <form class="m-5" [formGroup]="pollForm" (ngSubmit)="onFormSubmit()">
      <div class="container settings-box">
        <div class="form-group mb-3">
          <label for="title">Title</label>
          <input class="form-control" type="text" id="title" placeholder="Name of the event" formControlName="title">
        </div>
        <div class="form-group mb-3">
          <label for="description">Description (optional)</label>
          <input class="form-control" type="text" id="description"
                 placeholder="You can add additional descriptions about the event here" formControlName="description">
        </div>
        <div class="form-group mb-3">
          <label for="deadline">Deadline (optional)</label>
          <div class="d-flex">
            <input class="mwlFlatpickr"
                   mwlFlatpickr
                   id="deadline"
                   formControlName="deadline"
                   type="text"
                   autocomplete="off"
                   [enableTime]="true"
                   [allowInput]="true"
                   [minDate]="minDate"
                   [dateFormat]="'Y-m-d H:i'"
                   [convertModelValue]="true"
            >
          </div>
        </div>
        <button type="button"
                class="btn btn-outline-primary"
                (click)="collapse.toggle()"
                [attr.aria-expanded]="!isCollapsed"
                aria-controls="collapseExample">
          Additional options
        </button>
        <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
          <div class="form-group form-check">
            <label class="form-check-label" for="maxParticipants">Maximum number of participants</label>
            <input class="form-check-input" type="checkbox" id="maxParticipants" formControlName="maxParticipants">
            <div *ngIf="pollForm.get('maxParticipants')?.value">
              <input class="form-control" type="number" min="1" id="maxParticipantsInput"
                     formControlName="maxParticipantsInput">
            </div>
          </div>
          <div class="form-group form-check">
            <label class="form-check-label" for="allowMaybe">Allow "maybe"-option</label>
            <input class="form-check-input" type="checkbox" id="allowMaybe" formControlName="allowMaybe">
          </div>
          <div class="form-group form-check">
            <label class="form-check-label" for="allowEdit">Allow editing after filling out poll</label>
            <input class="form-check-input" type="checkbox" id="allowEdit" formControlName="allowEdit">
          </div>
          <div class="form-group form-check">
            <label class="form-check-label" for="allowAnonymous">Allow anonymous participation</label>
            <input class="form-check-input" type="checkbox" id="allowAnonymous" formControlName="allowAnonymous">
          </div>
          <pre>{{pollForm?.value|json}}</pre>
        </div>
      </div>
      <div class="d-flex justify-content-end">
        <button class="btn btn-primary" type="submit" [disabled]="!pollForm.valid">Create</button>
      </div>
    </form>
  </div>
</div>
